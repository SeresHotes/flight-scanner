# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç üöÄ

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
poetry install
```

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª —Å –≤–∞—à–∏–º —Ç–æ–∫–µ–Ω–æ–º:
```
TRAVELPAYOUTS_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

API —Å–∞–º –Ω–∞–π–¥—ë—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# –ü–æ–ª–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç: origin ‚Üí –≤—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí destination
poetry run python collect_flights.py MOW BKK \
  --leg1-dates 2026-02-15 2026-02-20 \
  --leg2-dates 2026-02-25 2026-03-05

# –¢–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥—è—â–∏–µ —Ä–µ–π—Å—ã –∏–∑ –≥–æ—Ä–æ–¥–∞
poetry run python collect_flights.py MOW \
  --leg1-dates 2026-02-15 2026-02-20
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ö° –ú–∏–Ω–∏–º—É–º API –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–æ–ª—å–∫–æ –ø–æ –¥–∞—Ç–∞–º)
- üåç –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–¥–æ 1000 –º–∞—Ä—à—Ä—É—Ç–æ–≤)
- ‚è±Ô∏è –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### 2Ô∏è‚É£ –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏:

```bash
poetry run python collect_flights.py MOW BKK \
  --leg1-dates 2026-02-15 2026-02-20 \
  --leg2-dates 2026-02-25 2026-03-05 \
  --intermediate IST DXB AUH
```

### 3Ô∏è‚É£ –ê–Ω–∞–ª–∏–∑ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json

# –° —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json \
  --min-stay 3 \
  --max-stay 7 \
  --top 20

# –§–∏–ª—å—Ç—Ä –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –¥–∞—Ç–∞–º –≤—ã–ª–µ—Ç–∞
poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json \
  --leg1-date 2026-02-19 \
  --leg2-from 2026-02-25 \
  --leg2-to 2026-02-28

# –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json \
  --output results/best_options.json
```

## –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–¥—ã –≥–æ—Ä–æ–¥–æ–≤ (IATA)

### –†–æ—Å—Å–∏—è
- `MOW` - –ú–æ—Å–∫–≤–∞
- `LED` - –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
- `KZN` - –ö–∞–∑–∞–Ω—å
- `AER` - –°–æ—á–∏

### –ï–≤—Ä–æ–ø–∞ –∏ –ë–ª–∏–∂–Ω–∏–π –í–æ—Å—Ç–æ–∫
- `IST` - –°—Ç–∞–º–±—É–ª üî• (–ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ö–∞–±)
- `DXB` - –î—É–±–∞–π üî• (–ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ö–∞–±)
- `AUH` - –ê–±—É-–î–∞–±–∏ üî• (–ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ö–∞–±)
- `DOH` - –î–æ—Ö–∞ üî• (–ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ö–∞–±)
- `BCN` - –ë–∞—Ä—Å–µ–ª–æ–Ω–∞
- `PAR` - –ü–∞—Ä–∏–∂

### –ê–∑–∏—è
- `BKK` - –ë–∞–Ω–≥–∫–æ–∫
- `HKT` - –ü—Ö—É–∫–µ—Ç
- `SIN` - –°–∏–Ω–≥–∞–ø—É—Ä
- `DEL` - –î–µ–ª–∏
- `GOI` - –ì–æ–∞

## –°–æ–≤–µ—Ç—ã üí°

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** - –Ω–µ –Ω—É–∂–Ω–æ –≥–∞–¥–∞—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –≤—ã–±—Ä–∞—Ç—å
2. **–†–∞—Å—à–∏—Ä—è–π—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç** - –±–æ–ª—å—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞
3. **–§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ** - —Å–æ–±–∏—Ä–∞–π—Ç–µ —à–∏—Ä–æ–∫–æ, —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ —É–∑–∫–æ
4. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--output` –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## –¢–∏–ø–∏—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫)
poetry run python collect_flights.py MOW BKK \
  --leg1-dates 2026-02-15 2026-02-20 \
  --leg2-dates 2026-02-25 2026-03-05

# 2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json \
  --min-stay 3 --max-stay 7 --top 10

poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json \
  --leg1-date 2026-02-19 --min-stay 5 --max-stay 7 --top 5

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
poetry run python aggregate_flights.py data/flights_MOW_BKK_*.json \
  --min-stay 5 --max-stay 5 --top 20 \
  --output results/5days_stay.json
```

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úì –ù–∞–π–¥–µ–Ω–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π: 145
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ü–µ–Ω–∞–º:
  –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è: 26,591 RUB
  –°—Ä–µ–¥–Ω—è—è:     45,230 RUB
  –ú–µ–¥–∏–∞–Ω–Ω–∞—è:   42,150 RUB

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º –≥–æ—Ä–æ–¥–∞–º:
  DXB: 45 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π, –º–∏–Ω. —Ü–µ–Ω–∞: 28,450 RUB
  IST: 38 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π, –º–∏–Ω. —Ü–µ–Ω–∞: 26,591 RUB
  DOH: 32 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π, –º–∏–Ω. —Ü–µ–Ω–∞: 31,200 RUB
  ...
```

## API –ª–∏–º–∏—Ç—ã

- –î–æ **1000** —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞—É–∑—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (0.5 —Å–µ–∫)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `direct=true` (–ø—Ä—è–º—ã–µ —Ä–µ–π—Å—ã)

---

**–£–¥–∞—á–∏ –≤ –ø–æ–∏—Å–∫–µ –¥–µ—à—ë–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤! ‚úàÔ∏è**
